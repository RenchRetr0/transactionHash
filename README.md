# Токены

При скачивании фалов, нужно скачать все необходимы пакеты и библиотеки через командную строку:"npm i".
После скачивания всех пакетов и библиотек, нужно будет в папке проекта "Tokens" создать файл ".env" и вписать следующие данные:

* DB_DRIVER - бд (база данных)
* DB_USER - пользователя
* DB_NAME - название бд
* DB_PASS - пароль к бд
* DB_HOST ( = localhost)
* DB_PORT - порт, на котором работает бд
* TOKEN_SECRET - набор рамдомных символов

После того, как вписали эти данные, вам нужно:
* Создать таблицы в бд при помощи команды "npm run tables"
* скомпилировать смар-контракты при помощи команды "npm run compile"

После этого прописать "npm run start":
* Создать пользователей по ссылке "http://localhost:3040/user/signUp" метотд Post. Указав следующие данные:
    * login (логин, по которому будет осуществляться поиск в таблице user)
    * address (адрес кашелька: 0xdF3e18d64BC6A983f673Ab319CCaE4f1a57C7097, 0xa0Ee7A142d267C1f36714E4a8F75612F20a79720 и пр.)
    * password (пароль)
* Авторизоваться по ссылке "http://localhost:3040/user/signIn" метод Post. Указав следующие данные:
    * login
    * password
Скопировать выведенный JWT token и вставить в "Authorization -> Bearer Token -> поле Token"

* Создать смарт-контракт по ссылке "http://localhost:3040/contract/create" метод Post. Указав следующие данные:
    * name (имя токена)
    * symbol (краткое обозначение)
Владелец этого токена изначально будет иметь 50 тысяч токенов на своём кошельке.

* Модно проверить колличество токенов по ссылке "http://localhost:3040/contract/ballance" метод Post. Указав следующие данные:
    * addresContract - адрес смарт-контракта, полученного выше

* Другие пользователи смогут покупать токены у вледаельца по ссылке "http://localhost:3040/contract/transaction" метод Post. Указав следующие данные (лучше авторизоваться от имени другого аккаунта и вписать JWT token другого пользователя):
    * amountTokens - колличество токенно, для покупки
    * addresContract - адрес смарт-контракта

#### Вручную изменив в таблице "user", столбец "role_id" на 1 и сохранив изменения.
Что бы получить доступ к просмотру всех сохранившехся транзакций. В противном случае вы не сможете получить данную информацию.


* Посмотреть историю всех транзакций можно по ссылке "http://localhost:3040/history" метод Get. Указывать ничего не надо.

* Посмотреть историю транзакций определённого кошелька можно по ссылке "http://localhost:3040/history/addressUser" метод Post. Указав следующие данные:
    * userAddress - адресс кошелька пользователя.

* Посмотреть чек "getTransactionReceipt" можно по ссылке "http://localhost:3040/transactionreceipt" метод Post. Указав следующие данные:
    * hashTransaction - В базе данных подписана как "block_hash_to".

___
## Зпуск "Swagger"
Вбить в консоль "npm run start" и в браузере по ссылке "http://localhost:3040/" откроется "swagger".